<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE elasticMapper SYSTEM "elasticmapping.dtd">
<elasticMapper name="ordris" desc="导入检查数据" business="or">
    <propertys>
        <!--id字段-->
        <property sourceName="or_id"  targetName="or_ris_id" valueType="String" idField="true"></property>
        <!--关联就诊ID-->
        <property sourceName="or_admno" targetName="admno" valueType="String" rowKey="true" parentField="true"></property>
        <!--关联登记号-->
        <property sourceName="or_regno" targetName="regno" valueType="String" routingField="true"></property>
        <!--检查项大类-->
<!--        <property sourceName="or_category" targetName="OR_Category" valueType="String"></property>-->
        <!--检查时间-->
        <property sourceName="or_date" targetName="or_ris_examtime" valueType="String"></property>
        <!--检查项目名称-->
        <property sourceName="or_name" targetName="or_ris_name" valueType="String"></property>
        <!--检查项目归一后编码-->
        <property sourceName="or_ordcode" targetName="or_ris_generic_code" valueType="String">
            <dicConvertor methodName="getByCode" dicType="OrderItem">
                <parameter>or_ordcode</parameter>
            </dicConvertor>
        </property>
        <!--检查项目归一后名称，用于统计不分词-->
        <property sourceName="or_name" targetName="or_ris_generic_name" valueType="String"></property>
        <!--检查描述-->
        <property sourceName="or_desc" targetName="or_ris_desc" valueType="String"></property>
        <!--检查结论-->
        <property sourceName="or_result" targetName="or_ris_result" valueType="String"></property>
    </propertys>

    <outputs>
        <output>
            <elasticsearch index="csmsearch" type="doc"></elasticsearch>
        </output>
    </outputs>
</elasticMapper>